package com.example.cmdb.entity;

import jakarta.persistence.*;

@Entity
@Table(name = "cmdb_ci_service")
public class CmdbService {

    @Id
    @Column(name = "name", length = 250, nullable = false)
    private String name;

    @Column(name = "short_description", columnDefinition = "varchar(max)")
    private String shortDescription;

    @Column(name = "u_it_owner", length = 32)
    private String itOwner;

    @Column(name = "u_it_owner_manager", length = 40)
    private String itOwnerManager;

    // Getters and Setters

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getShortDescription() {
        return shortDescription;
    }

    public void setShortDescription(String shortDescription) {
        this.shortDescription = shortDescription;
    }

    public String getItOwner() {
        return itOwner;
    }

    public void setItOwner(String itOwner) {
        this.itOwner = itOwner;
    }

    public String getItOwnerManager() {
        return itOwnerManager;
    }

    public void setItOwnerManager(String itOwnerManager) {
        this.itOwnerManager = itOwnerManager;
    }
}

......
package com.example.cmdb.repository;

import com.example.cmdb.entity.CmdbService;
import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.stereotype.Repository;

@Repository
public interface CmdbRepository extends JpaRepository<CmdbService, String> {
}


.....
package com.example.cmdb.service;

import com.example.cmdb.entity.CmdbService;
import com.example.cmdb.repository.CmdbRepository;
import org.springframework.stereotype.Service;

import java.util.List;

@Service
public class CmdbServiceImpl {

    private final CmdbRepository cmdbRepository;

    public CmdbServiceImpl(CmdbRepository cmdbRepository) {
        this.cmdbRepository = cmdbRepository;
    }

    public List<CmdbService> getAllServices() {
        return cmdbRepository.findAll();
    }
}
...
package com.example.cmdb.controller;

import com.example.cmdb.entity.CmdbService;
import com.example.cmdb.service.CmdbServiceImpl;
import org.springframework.web.bind.annotation.*;

import java.util.List;

@RestController
@RequestMapping("/api/services")
@CrossOrigin(origins = "*") // Allow CORS for Angular
public class CmdbController {

    private final CmdbServiceImpl cmdbService;

    public CmdbController(CmdbServiceImpl cmdbService) {
        this.cmdbService = cmdbService;
    }

    @GetMapping
    public List<CmdbService> getAllServices() {
        return cmdbService.getAllServices();
    }
}
